<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Replay PC Tool</title>

<style>
.rpc-wrap{max-width:1100px;margin:0 auto;padding:18px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
.rpc-sub{opacity:.9;margin-top:6px}
.rpc-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;margin-top:14px}
.rpc-card{border:1px solid rgba(0,0,0,.12);border-radius:14px;padding:16px;background:#0f1115;color:#e9eef5;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.rpc-card h3{margin:0 0 10px 0}
.rpc-help{margin:0 0 12px 0;opacity:.85;font-size:14px}

.rpc-checklist{display:grid;grid-template-columns:1fr 1fr;gap:8px 14px}
.rpc-section-title{margin:10px 0 8px 0;font-weight:800;grid-column:1/-1;}
.rpc-check{display:flex;gap:10px;align-items:center;font-size:14px}
.rpc-check input{transform:scale(1.1)}

.rpc-fps-pick{display:grid;gap:8px;margin-top:10px}
.rpc-radio{display:flex;gap:10px;align-items:center;font-size:14px}

.rpc-divider{height:1px;background:rgba(255,255,255,.12);margin:14px 0}

.rpc-result{margin-top:10px;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:#121826}
.rpc-badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,59,59,.18);color:#ff8b8b;font-weight:900;font-size:12px;margin-bottom:10px}
.rpc-title{margin:6px 0;font-size:20px}
.rpc-price{font-size:22px;font-weight:900;margin-bottom:12px;color:#ff3b3b;}
.rpc-h5{margin:14px 0 8px 0;font-size:14px}
.rpc-specs{margin:8px 0 0 18px;line-height:1.5}
.rpc-actions{margin-top:14px}
.rpc-link{display:block;text-align:center;padding:12px;border-radius:12px;background:#2b3344;color:#fff;text-decoration:none;font-weight:900}
.rpc-why{margin-top:10px;padding:12px;border-radius:12px;background:rgba(255,255,255,.05);font-size:13px;line-height:1.45}
.rpc-tip{margin-top:16px;font-size:13px;opacity:.9}
.rpc-tip a{color:#ff8b8b;font-weight:700}

.rpc-empty{padding:14px;border-radius:12px;border:1px dashed rgba(255,255,255,.18);background:rgba(255,255,255,.02)}
.rpc-empty b{color:#fff}

/* âœ… Fade animation for nicer transitions */
.rpc-fade{transition:opacity 220ms ease, transform 220ms ease;}
.rpc-fade.is-out{opacity:0;transform:translateY(6px);pointer-events:none;}
.rpc-fade.is-in{opacity:1;transform:translateY(0);}

/* âœ… Pro bullets */
.rpc-bullets{margin:0;padding-left:18px}
.rpc-bullets li{margin:6px 0}

/* âœ… Confidence tags */
.rpc-confidence{display:inline-flex;gap:8px;align-items:center;margin-top:10px;font-size:12px;font-weight:900}
.rpc-pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04)}
.rpc-pill.ok{border-color:rgba(81, 255, 160, .35)}
.rpc-pill.maybe{border-color:rgba(255, 193, 59, .35)}
.rpc-pill.strong{border-color:rgba(255, 59, 59, .35)}
.rpc-note{margin-top:10px;opacity:.92;font-size:12.5px;line-height:1.45}

@media (max-width:900px){
  .rpc-grid{grid-template-columns:1fr}
  .rpc-checklist{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="rpc-wrap">
  <h2>Welke Game PC Past Bij Jou?</h2>
  <p class="rpc-sub">Vink minimaal 2 games aan en kies je minimale FPS. Advies verschijnt automatisch.</p>

  <div class="rpc-grid">

    <!-- LEFT -->
    <div class="rpc-card">
      <h3>1) Welke games wil je spelen?</h3>
      <p class="rpc-help">Kies <b>minimaal 2</b> games. We baseren het advies op de zwaarste games in jouw selectie.</p>

      <div class="rpc-checklist" id="gameList">
        <div class="rpc-section-title">Licht (instap)</div>
        <label class="rpc-check"><input type="checkbox" value="Roblox"> Roblox</label>
        <label class="rpc-check"><input type="checkbox" value="Minecraft"> Minecraft</label>
        <label class="rpc-check"><input type="checkbox" value="League of Legends"> League of Legends</label>
        <label class="rpc-check"><input type="checkbox" value="Rocket League"> Rocket League</label>

        <div class="rpc-section-title">Gemiddeld (populair)</div>
        <label class="rpc-check"><input type="checkbox" value="Fortnite"> Fortnite</label>
        <label class="rpc-check"><input type="checkbox" value="Valorant"> Valorant</label>
        <label class="rpc-check"><input type="checkbox" value="GTA V"> GTA V / FiveM</label>
        <label class="rpc-check"><input type="checkbox" value="Apex Legends"> Apex Legends</label>

        <div class="rpc-section-title">Zwaar / extreem zwaar</div>
        <label class="rpc-check"><input type="checkbox" value="Call of Duty / Warzone"> Call of Duty / Warzone</label>
        <label class="rpc-check"><input type="checkbox" value="Red Dead Redemption 2"> Red Dead Redemption 2</label>
        <label class="rpc-check"><input type="checkbox" value="Hogwarts Legacy"> Hogwarts Legacy</label>
        <label class="rpc-check"><input type="checkbox" value="Cyberpunk 2077"> Cyberpunk 2077</label>
      </div>

      <div class="rpc-divider"></div>

      <h3>2) Minimale FPS</h3>
      <div class="rpc-fps-pick" id="fpsPick">
        <label class="rpc-radio"><input type="radio" name="minFps" value="60" checked> 60+ FPS</label>
        <label class="rpc-radio"><input type="radio" name="minFps" value="100"> 100+ FPS</label>
        <label class="rpc-radio"><input type="radio" name="minFps" value="144"> 144+ FPS</label>
      </div>

      <h3 style="margin-top:18px;">3) Wat is belangrijker?</h3>
      <p class="rpc-help">Dit beÃ¯nvloedt hoe streng we adviseren bij dezelfde games.</p>
      <div class="rpc-fps-pick" id="stylePick">
        <label class="rpc-radio"><input type="radio" name="playStyle" value="competitive" checked> Competitief (hoge FPS, lagere settings)</label>
        <label class="rpc-radio"><input type="radio" name="playStyle" value="graphics"> Mooie graphics (hogere settings)</label>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="rpc-card">
      <h3>Jouw advies</h3>

      <div class="rpc-result rpc-fade is-in" id="result" style="display:none;">
        <div class="rpc-badge">Aanbevolen systeem</div>

        <h4 class="rpc-title" id="pcName"></h4>
        <div class="rpc-price" id="pcPrice"></div>

        <div class="rpc-why">
          <ul class="rpc-bullets" id="whyBullets"></ul>
          <div class="rpc-confidence" id="confidenceRow" style="display:none;">
            <span class="rpc-pill" id="confidencePill">â€”</span>
          </div>
          <div class="rpc-note" id="nuanceNote" style="display:none;"></div>
        </div>

        <h5 class="rpc-h5">ðŸŽ¯ Verwachte prestaties (1080p)</h5>
        <ul class="rpc-specs" id="pcFps"></ul>

        <div class="rpc-actions">
          <a id="pcLink" class="rpc-link" href="#" target="_blank" rel="noopener">Bekijk deze PC</a>
        </div>

        <p class="rpc-tip">
          ðŸ’¡ Twijfel je? Gebruik ons
          <a href="https://replay-pc.eu/contactformulier" target="_blank" rel="noopener">contactformulier</a>
          voor een persoonlijk advies op maat.
        </p>
      </div>

      <div class="rpc-empty" id="emptyState">
        Selecteer <b>minimaal 2 games</b> en kies je minimale FPS om advies te krijgen.
      </div>

    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{

  // 1 = licht, 2 = gemiddeld, 3 = zwaar, 4 = extreem zwaar
  const gameWeights = {
    "Roblox": 1,
    "Minecraft": 1,
    "League of Legends": 1,
    "Rocket League": 1,

    "Fortnite": 2,
    "Valorant": 2,
    "GTA V": 2,
    "Apex Legends": 2,

    "Call of Duty / Warzone": 3,
    "Red Dead Redemption 2": 3,

    "Hogwarts Legacy": 4,
    "Cyberpunk 2077": 4
  };

  const products = {
    budget: {
      name: "ðŸ’¸ Budget 60FPS",
      price: "â‚¬â€”",
      link: "#",
      fps: [
        "Esports games (LoL/Valorant/RL): 120â€“200 FPS",
        "Fortnite / Apex: 80â€“130 FPS (settings afhankelijk)",
        "Warzone: 60â€“90 FPS (settings afhankelijk)",
        "RDR2: 55â€“75 FPS (mix settings)"
      ]
    },
    ignite: {
      name: "ðŸ”¥The IgniteðŸ”¥",
      price: "â‚¬650,-",
      link: "https://replay-pc.eu/goedkope-gaming-pc-rtx-3060-ti",
      fps: [
        "Roblox / Minecraft: 200+ FPS",
        "League of Legends / Rocket League: 180+ FPS",
        "Fortnite (High Settings): 120â€“160 FPS",
        "GTA V (High): 120â€“140 FPS",
        "Apex Legends: 110â€“140 FPS",
        "Call of Duty / Warzone: 95â€“115 FPS",
        "Red Dead Redemption 2 (High): 80â€“100 FPS",
        "Hogwarts Legacy (High): 75â€“95 FPS",
        "Cyberpunk 2077 (High, zonder ray tracing): 70â€“90 FPS"
      ]
    },
    highend: {
      name: "ðŸ‘‘ High-End",
      price: "â‚¬â€”",
      link: "#",
      fps: [
        "Esports (LoL/Valorant/RL): 240+ FPS",
        "Fortnite / Apex: 160â€“240 FPS",
        "Warzone: 140â€“190 FPS",
        "RDR2: 120â€“160 FPS",
        "Cyberpunk: 105â€“150 FPS"
      ]
    }
  };

  // DOM refs
  const resultBox   = document.getElementById("result");
  const emptyState  = document.getElementById("emptyState");
  const pcNameEl    = document.getElementById("pcName");
  const pcPriceEl   = document.getElementById("pcPrice");
  const pcLinkEl    = document.getElementById("pcLink");
  const pcFpsUl     = document.getElementById("pcFps");
  const whyBullets  = document.getElementById("whyBullets");
  const confidenceRow = document.getElementById("confidenceRow");
  const confidencePill = document.getElementById("confidencePill");
  const nuanceNote  = document.getElementById("nuanceNote");

  function getCheckedGames(){
    return [...document.querySelectorAll('#gameList input:checked')].map(i=>i.value);
  }

  function getMinFps(){
    return parseInt(document.querySelector('input[name="minFps"]:checked').value, 10);
  }

  function getPlayStyle(){
    return document.querySelector('input[name="playStyle"]:checked').value;
  }

  function getMaxWeight(games){
    let max=0;
    games.forEach(g=>max=Math.max(max, gameWeights[g] || 0));
    return max;
  }

  // 2 zwaarste games (bij gelijke weight: volgorde selectie)
  function getTwoHeaviestGames(games){
    const ranked = games
      .map((g, idx) => ({ g, w: gameWeights[g] || 0, idx }))
      .sort((a,b) => (b.w - a.w) || (a.idx - b.idx))
      .map(x => x.g);

    const unique = [];
    for (const g of ranked){
      if (!unique.includes(g)) unique.push(g);
      if (unique.length === 2) break;
    }
    return unique;
  }

  function categoryLabel(maxW){
    if (maxW <= 1) return "Licht";
    if (maxW === 2) return "Gemiddeld";
    if (maxW === 3) return "Zwaar";
    return "Extreem zwaar";
  }

  // âœ… UPDATED: speelstijl + FPS hebben altijd merkbaar effect
  function chooseProduct(games, fps, style){
    const maxW = getMaxWeight(games);

    // competitive: minder streng (-0.5)
    // graphics: strenger (+0.75)
    const styleModifier = (style === "graphics") ? 0.75 : -0.5;

    // fps doel: 60 relaxed, 100 licht strenger, 144 strenger
    const fpsModifier = (fps >= 144) ? 0.75 : (fps >= 100) ? 0.25 : 0;

    const effective = maxW + styleModifier + fpsModifier;

    // Drempels (tweakbaar)
    if (effective <= 1.25) return products.budget;
    if (effective <= 3.25) return products.ignite;
    return products.highend;
  }

  // âœ… Confidence + nuance (professional â€œeerlijkheidâ€)
  function getConfidence(product, maxW, fps, style){
    if (product === products.highend) return { level:"strong", text:"Zeker advies" };

    // Twijfelzone: dicht bij grens naar hogere tier
    // We nemen bewust "effective" mee zodat de tool consequent is.
    const styleModifier = (style === "graphics") ? 0.75 : -0.5;
    const fpsModifier = (fps >= 144) ? 0.75 : (fps >= 100) ? 0.25 : 0;
    const effective = maxW + styleModifier + fpsModifier;

    // Binnen 0.35 van de grens? -> twijfelzone
    // Grens budget->ignite: 1.25 | ignite->highend: 3.25
    const nearBudget = Math.abs(effective - 1.25) <= 0.35;
    const nearHigh   = Math.abs(effective - 3.25) <= 0.35;

    if (nearBudget || nearHigh) return { level:"maybe", text:"Twijfelzone" };
    return { level:"ok", text:"Goede match" };
  }

  function setPill(conf){
    confidencePill.className = "rpc-pill " + (conf.level === "strong" ? "strong" : conf.level === "maybe" ? "maybe" : "ok");
    confidencePill.textContent = conf.text;
    confidenceRow.style.display = "inline-flex";
  }

  function setNuanceNote(conf, product, maxW, fps, style){
    nuanceNote.style.display = "none";
    nuanceNote.textContent = "";

    if (conf.level !== "maybe") return;

    let note = "";
    if (product === products.ignite && (maxW >= 3) && style === "graphics" && fps >= 100){
      note = "Tip: met â€˜Mooie graphicsâ€™ vragen games meer van je GPU. Wil je Ã©cht stabiel 100+ FPS op hoge settings, dan is High-End vaak de veiligere keuze.";
    } else if (product === products.budget && maxW >= 2){
      note = "Tip: budgetadvies is bedoeld voor 60+ FPS. In Fortnite/Apex kan FPS per map/setting verschillen. Voor meer marge is Ignite een veilige upgrade.";
    } else {
      note = "Tip: performance kan variÃ«ren door settings, maps, servers en updates. Voor zekerheid kun je ons contactformulier gebruiken.";
    }

    nuanceNote.textContent = note;
    nuanceNote.style.display = "block";
  }

  // âœ… Smooth fade swap
  function fadeSwap(updateFn){
    if (resultBox.style.display === "none"){
      updateFn();
      resultBox.classList.remove("is-out");
      resultBox.classList.add("is-in");
      return;
    }

    resultBox.classList.remove("is-in");
    resultBox.classList.add("is-out");

    setTimeout(() => {
      updateFn();
      requestAnimationFrame(() => {
        resultBox.classList.remove("is-out");
        resultBox.classList.add("is-in");
      });
    }, 220);
  }

  function render(product, games, fps, style){
    const maxW = getMaxWeight(games);
    const cat  = categoryLabel(maxW);
    const top2 = getTwoHeaviestGames(games);
    const g1 = top2[0] || "â€”";
    const g2 = top2[1] || "â€”";

    pcNameEl.textContent  = product.name;
    pcPriceEl.textContent = product.price;
    pcLinkEl.href         = product.link;
    pcLinkEl.textContent  = `Bekijk ${product.name}`;

    // âœ… 3 bullets
    whyBullets.innerHTML = "";
    const bullets = [
      `Zwaarste games in jouw selectie: â€œ${g1}â€ en â€œ${g2}â€.`,
      `Jouw doel: ${fps}+ FPS op 1080p.`,
      `Speelstijl: ${style === "competitive" ? "Competitief (hoge FPS, lagere settings)" : "Mooie graphics (hogere settings)"} â€” dit maakt het advies ${style === "competitive" ? "minder streng" : "strenger"}.`
    ];
    bullets.forEach(t=>{
      const li=document.createElement("li");
      li.textContent=t;
      whyBullets.appendChild(li);
    });

    const conf = getConfidence(product, maxW, fps, style);
    setPill(conf);
    setNuanceNote(conf, product, maxW, fps, style);

    if (conf.level !== "maybe"){
      nuanceNote.textContent = `Categorie van je zwaarste game: ${cat}.`;
      nuanceNote.style.display = "block";
    }

    pcFpsUl.innerHTML = "";
    product.fps.forEach(line=>{
      const li=document.createElement("li");
      li.textContent=line;
      pcFpsUl.appendChild(li);
    });

    emptyState.style.display="none";
    resultBox.style.display="block";
  }

  function hideResultWithMessage(msg){
    emptyState.innerHTML = msg;
    resultBox.style.display="none";
    emptyState.style.display="block";
  }

  function update(){
    const games = getCheckedGames();
    const fps   = getMinFps();
    const style = getPlayStyle();

    if (games.length === 0) {
      hideResultWithMessage('Selecteer <b>minimaal 2 games</b> en kies je minimale FPS om advies te krijgen.');
      return;
    }
    if (games.length === 1) {
      hideResultWithMessage('Selecteer nog <b>1 extra game</b> (minimaal 2) om een betrouwbaar advies te geven.');
      return;
    }

    const chosen = chooseProduct(games, fps, style);

    fadeSwap(() => {
      render(chosen, games, fps, style);
    });
  }

  document.getElementById("gameList").addEventListener("change", update);
  document.getElementById("fpsPick").addEventListener("change", update);
  document.getElementById("stylePick").addEventListener("change", update);

  update();

});
</script>
</body>
</html>

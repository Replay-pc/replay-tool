<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Replay PC Tool</title>

<style>
:root{
  --bg:#0f1115;
  --card:#0f1115;
  --panel:#121826;
  --stroke:rgba(255,255,255,.12);
  --muted:rgba(255,255,255,.75);
  --accent:#ff3b3b;
}

.rpc-wrap{max-width:1100px;margin:0 auto;padding:18px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
.rpc-sub{opacity:.9;margin-top:6px}
.rpc-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:16px;margin-top:14px}
.rpc-card{border:1px solid rgba(0,0,0,.12);border-radius:14px;padding:16px;background:var(--card);color:#e9eef5;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.rpc-card h3{margin:0 0 10px 0}
.rpc-help{margin:0 0 12px 0;opacity:.85;font-size:14px}

.rpc-checklist{display:grid;grid-template-columns:1fr 1fr;gap:8px 14px}
.rpc-section-title{margin:10px 0 8px 0;font-weight:800;grid-column:1/-1;}
.rpc-check{display:flex;gap:10px;align-items:center;font-size:14px}
.rpc-check input{transform:scale(1.1)}

.rpc-fps-pick{display:grid;gap:8px;margin-top:10px}
.rpc-radio{display:flex;gap:10px;align-items:center;font-size:14px}

.rpc-divider{height:1px;background:var(--stroke);margin:14px 0}

.rpc-result{margin-top:10px;padding:14px;border-radius:12px;border:1px solid var(--stroke);background:var(--panel)}
.rpc-badge{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,59,59,.18);color:#ff8b8b;font-weight:900;font-size:12px;margin-bottom:10px}
.rpc-title{margin:6px 0;font-size:20px}
.rpc-price{font-size:22px;font-weight:900;margin-bottom:12px;color:var(--accent);}
.rpc-h5{margin:14px 0 8px 0;font-size:14px}
.rpc-specs{margin:8px 0 0 18px;line-height:1.5}
.rpc-actions{margin-top:14px}
.rpc-link{display:block;text-align:center;padding:12px;border-radius:12px;background:#2b3344;color:#fff;text-decoration:none;font-weight:900}
.rpc-why{margin-top:10px;padding:12px;border-radius:12px;background:rgba(255,255,255,.05);font-size:13px;line-height:1.45}

.rpc-tip{margin-top:16px;font-size:13px;opacity:.9}
.rpc-tip a{color:#ff8b8b;font-weight:700}

.rpc-empty{padding:14px;border-radius:12px;border:1px dashed rgba(255,255,255,.18);background:rgba(255,255,255,.02)}
.rpc-empty b{color:#fff}

/* Fade */
.rpc-fade{transition:opacity 220ms ease, transform 220ms ease;}
.rpc-fade.is-out{opacity:0;transform:translateY(6px);pointer-events:none;}
.rpc-fade.is-in{opacity:1;transform:translateY(0);}

/* Bullets */
.rpc-bullets{margin:0;padding-left:18px}
.rpc-bullets li{margin:6px 0}

/* Match score bar */
.rpc-scorecard{margin-top:10px;padding:12px;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.10)}
.rpc-scorehead{display:flex;align-items:center;justify-content:space-between;font-weight:900;font-size:13px;margin-bottom:8px}
.rpc-scorebar{height:10px;border-radius:999px;background:rgba(255,255,255,.10);overflow:hidden}
.rpc-scorefill{
  height:100%;
  width:0%;
  border-radius:999px;
  transition:width 320ms ease, background-color 320ms ease;
  background:#38d39f;
}
.rpc-scorelabel{margin-top:8px;font-size:12px;opacity:.9}

/* Save / share */
.rpc-share{margin-top:12px;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.03)}
.rpc-share-title{font-weight:900;font-size:13px;margin:0 0 10px 0}
.rpc-share-row{display:flex;gap:10px;align-items:center}
.rpc-share-input{flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0f1115;color:#e9eef5}
.rpc-share-btn{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.16);background:#2b3344;color:#fff;font-weight:900;cursor:pointer}
.rpc-share-btn:hover{filter:brightness(.95)}
.rpc-toast{margin-top:8px;font-size:12px;opacity:.9;display:none}

/* Upgrade CTA (ONLY shown when ORANGE) */
.rpc-upgrade{
  margin-top:12px;
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(247, 201, 72, .10); /* orange tint */
  display:none;
}
.rpc-upgrade strong{display:block;margin-bottom:8px}
.rpc-upgrade-row{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.rpc-upgrade-btn{
  padding:10px 12px;
  border-radius:10px;
  border:none;
  background:#f7c948; /* orange */
  color:#111;
  font-weight:900;
  cursor:pointer;
}
.rpc-upgrade-btn:hover{filter:brightness(.95)}
.rpc-upgrade-link{color:#ffd98b;text-decoration:underline;font-weight:800}

@media (max-width:900px){
  .rpc-grid{grid-template-columns:1fr}
  .rpc-checklist{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="rpc-wrap">
  <h2>Welke Game PC Past Bij Jou?</h2>
  <p class="rpc-sub">Vink minimaal 2 games aan en kies je minimale FPS. Advies verschijnt automatisch.</p>

  <div class="rpc-grid">

    <!-- LEFT -->
    <div class="rpc-card">
      <h3>1) Welke games wil je spelen?</h3>
      <p class="rpc-help">Kies <b>minimaal 2</b> games. We baseren het advies op de zwaarste games in jouw selectie.</p>

      <div class="rpc-checklist" id="gameList">
        <div class="rpc-section-title">Licht (instap)</div>
        <label class="rpc-check"><input type="checkbox" value="Roblox"> Roblox</label>
        <label class="rpc-check"><input type="checkbox" value="Minecraft"> Minecraft</label>
        <label class="rpc-check"><input type="checkbox" value="League of Legends"> League of Legends</label>
        <label class="rpc-check"><input type="checkbox" value="Rocket League"> Rocket League</label>
        <label class="rpc-check"><input type="checkbox" value="Overwatch 2"> Overwatch 2</label>
        <label class="rpc-check"><input type="checkbox" value="Rainbow Six Siege"> Rainbow Six Siege</label>

        <div class="rpc-section-title">Gemiddeld (populair)</div>
        <label class="rpc-check"><input type="checkbox" value="Fortnite"> Fortnite</label>
        <label class="rpc-check"><input type="checkbox" value="Valorant"> Valorant</label>
        <label class="rpc-check"><input type="checkbox" value="CS2"> Counter-Strike 2</label>
        <label class="rpc-check"><input type="checkbox" value="GTA V"> GTA V / FiveM</label>
        <label class="rpc-check"><input type="checkbox" value="Apex Legends"> Apex Legends</label>
        <label class="rpc-check"><input type="checkbox" value="PUBG"> PUBG</label>

        <div class="rpc-section-title">Zwaar / extreem zwaar</div>
        <label class="rpc-check"><input type="checkbox" value="Call of Duty / Warzone"> Call of Duty / Warzone</label>
        <label class="rpc-check"><input type="checkbox" value="Red Dead Redemption 2"> Red Dead Redemption 2</label>
        <label class="rpc-check"><input type="checkbox" value="Elden Ring"> Elden Ring</label>
        <label class="rpc-check"><input type="checkbox" value="Hogwarts Legacy"> Hogwarts Legacy</label>
        <label class="rpc-check"><input type="checkbox" value="Cyberpunk 2077"> Cyberpunk 2077</label>
        <label class="rpc-check"><input type="checkbox" value="Starfield"> Starfield</label>
      </div>

      <div class="rpc-divider"></div>

      <h3>2) Minimale FPS</h3>
      <div class="rpc-fps-pick" id="fpsPick">
        <label class="rpc-radio"><input type="radio" name="minFps" value="60" checked> 60+ FPS</label>
        <label class="rpc-radio"><input type="radio" name="minFps" value="100"> 100+ FPS</label>
        <label class="rpc-radio"><input type="radio" name="minFps" value="144"> 144+ FPS</label>
      </div>

      <h3 style="margin-top:18px;">3) Wat is belangrijker?</h3>
      <p class="rpc-help">Dit be√Ønvloedt hoe streng we adviseren bij dezelfde games.</p>
      <div class="rpc-fps-pick" id="stylePick">
        <label class="rpc-radio"><input type="radio" name="playStyle" value="competitive" checked> Competitief (hoge FPS, lagere settings)</label>
        <label class="rpc-radio"><input type="radio" name="playStyle" value="graphics"> Mooie graphics (hogere settings)</label>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="rpc-card">
      <h3>Jouw advies</h3>

      <div class="rpc-result rpc-fade is-in" id="result" style="display:none;">
        <div class="rpc-badge">Aanbevolen systeem</div>

        <h4 class="rpc-title" id="pcName"></h4>
        <div class="rpc-price" id="pcPrice"></div>

        <div class="rpc-scorecard">
          <div class="rpc-scorehead">
            <span>Match-score</span>
            <span id="scoreText">‚Äî/100</span>
          </div>
          <div class="rpc-scorebar" aria-label="Match score">
            <div class="rpc-scorefill" id="scoreFill"></div>
          </div>
          <div class="rpc-scorelabel" id="scoreLabel">‚Äî</div>
        </div>

        <!-- ‚úÖ Upgrade block (ONLY when ORANGE 70‚Äì84) -->
        <div class="rpc-upgrade" id="upgradeBox">
          <strong>Wil je meer headroom / stabielere FPS?</strong>
          <div class="rpc-upgrade-row">
            <span id="upgradeText">‚Äî</span>
            <button class="rpc-upgrade-btn" id="upgradeBtn" type="button">Bekijk betere match</button>
          </div>
          <div style="margin-top:8px;font-size:12px;opacity:.9;">
            Liever persoonlijk? <a class="rpc-upgrade-link" href="https://replay-pc.eu/contactformulier" target="_blank" rel="noopener">Vraag advies op maat</a>
          </div>
        </div>

        <div class="rpc-why" style="margin-top:12px;">
          <ul class="rpc-bullets" id="whyBullets"></ul>
          <div class="rpc-note" id="nuanceNote" style="display:none;margin-top:10px;opacity:.92;font-size:12.5px;line-height:1.45"></div>
        </div>

        <h5 class="rpc-h5">üéØ Verwachte prestaties (1080p)</h5>
        <ul class="rpc-specs" id="pcFps"></ul>

        <div class="rpc-actions">
          <a id="pcLink" class="rpc-link" href="#" target="_blank" rel="noopener">Bekijk deze PC</a>
        </div>

        <div class="rpc-share">
          <p class="rpc-share-title">Opslaan / delen</p>
          <div class="rpc-share-row">
            <input class="rpc-share-input" id="shareUrl" readonly />
            <button class="rpc-share-btn" id="copyBtn" type="button">Kopieer link</button>
          </div>
          <div class="rpc-toast" id="toast">Gekopieerd ‚úÖ</div>
        </div>

        <p class="rpc-tip">
          üí° Twijfel je? Gebruik ons
          <a href="https://replay-pc.eu/contactformulier" target="_blank" rel="noopener">contactformulier</a>
          voor een persoonlijk advies op maat.
        </p>
      </div>

      <div class="rpc-empty" id="emptyState">
        Selecteer <b>minimaal 2 games</b> en kies je minimale FPS om advies te krijgen.
      </div>

    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded",()=>{

  // 1=licht, 2=gemiddeld, 3=zwaar, 4=extreem
  const gameWeights = {
    // Licht
    "Roblox": 1,
    "Minecraft": 1,
    "League of Legends": 1,
    "Rocket League": 1,
    "Overwatch 2": 1,
    "Rainbow Six Siege": 1,

    // Gemiddeld
    "Fortnite": 2,
    "Valorant": 2,
    "CS2": 2,
    "GTA V": 2,
    "Apex Legends": 2,
    "PUBG": 2,

    // Zwaar
    "Call of Duty / Warzone": 3,
    "Red Dead Redemption 2": 3,
    "Elden Ring": 3,

    // Extreem
    "Hogwarts Legacy": 4,
    "Cyberpunk 2077": 4,
    "Starfield": 4
  };

  // tiers: 0=low(3050), 1=mid(3060Ti), 2=upper(3070/3080), 3=high(3090/5090)
  const products = {
    low: {
      tier: 0,
      name: "üí∏ Low (RTX 3050)",
      price: "‚Ç¨‚Äî",
      link: "#",
      fps: [
        "Esports (LoL/Valorant/CS2/RL): 120‚Äì200 FPS",
        "Fortnite / Apex: 70‚Äì120 FPS (settings afhankelijk)",
        "GTA V / FiveM: 70‚Äì110 FPS (settings afhankelijk)"
      ]
    },
    mid: {
      tier: 1,
      name: "üî• The Ignite (RTX 3060 / 3060 Ti)",
      price: "‚Ç¨650,-",
      link: "https://replay-pc.eu/goedkope-gaming-pc-rtx-3060-ti",
      fps: [
        "Roblox / Minecraft: 200+ FPS",
        "League of Legends / Rocket League: 180+ FPS",
        "Fortnite (High Settings): 120‚Äì160 FPS",
        "GTA V (High): 120‚Äì140 FPS",
        "Apex Legends: 110‚Äì140 FPS",
        "Call of Duty / Warzone: 95‚Äì115 FPS",
        "Red Dead Redemption 2 (High): 80‚Äì100 FPS",
        "Hogwarts Legacy (High): 75‚Äì95 FPS",
        "Cyberpunk 2077 (High, zonder ray tracing): 70‚Äì90 FPS"
      ]
    },
    upper: {
      tier: 2,
      name: "‚ö° Upper (RTX 3070 / 3080)",
      price: "‚Ç¨‚Äî",
      link: "#",
      fps: [
        "Esports (LoL/Valorant/CS2/RL): 240+ FPS",
        "Fortnite / Apex: 140‚Äì220 FPS",
        "Warzone: 120‚Äì170 FPS (settings afhankelijk)",
        "RDR2: 100‚Äì140 FPS (mix settings)",
        "Cyberpunk: 90‚Äì130 FPS (zonder RT / DLSS afhankelijk)"
      ]
    },
    high: {
      tier: 3,
      name: "üëë High (RTX 3090 / later 5090)",
      price: "‚Ç¨‚Äî",
      link: "#",
      fps: [
        "Esports (LoL/Valorant/CS2/RL): 300+ FPS",
        "Fortnite / Apex: 180‚Äì280 FPS",
        "Warzone: 150‚Äì220 FPS (settings afhankelijk)",
        "RDR2: 120‚Äì170 FPS",
        "Cyberpunk: 110‚Äì170 FPS (zonder RT / DLSS afhankelijk)"
      ]
    }
  };

  // DOM
  const resultBox   = document.getElementById("result");
  const emptyState  = document.getElementById("emptyState");
  const pcNameEl    = document.getElementById("pcName");
  const pcPriceEl   = document.getElementById("pcPrice");
  const pcLinkEl    = document.getElementById("pcLink");
  const pcFpsUl     = document.getElementById("pcFps");
  const whyBullets  = document.getElementById("whyBullets");
  const nuanceNote  = document.getElementById("nuanceNote");

  const scoreText   = document.getElementById("scoreText");
  const scoreFill   = document.getElementById("scoreFill");
  const scoreLabel  = document.getElementById("scoreLabel");

  const shareUrlEl  = document.getElementById("shareUrl");
  const copyBtn     = document.getElementById("copyBtn");
  const toast       = document.getElementById("toast");

  const upgradeBox  = document.getElementById("upgradeBox");
  const upgradeText = document.getElementById("upgradeText");
  const upgradeBtn  = document.getElementById("upgradeBtn");

  // --- helpers ---
  function getCheckedGames(){
    return [...document.querySelectorAll('#gameList input:checked')].map(i=>i.value);
  }
  function getMinFps(){
    return parseInt(document.querySelector('input[name="minFps"]:checked').value, 10);
  }
  function getPlayStyle(){
    return document.querySelector('input[name="playStyle"]:checked').value;
  }
  function getMaxWeight(games){
    let max=0;
    games.forEach(g=>max=Math.max(max, gameWeights[g] || 0));
    return max;
  }
  function countWeight(games, w){
    let c=0;
    for (const g of games){
      if ((gameWeights[g]||0) === w) c++;
    }
    return c;
  }
  function getTwoHeaviestGames(games){
    const ranked = games
      .map((g, idx) => ({ g, w: gameWeights[g] || 0, idx }))
      .sort((a,b) => (b.w - a.w) || (a.idx - b.idx))
      .map(x => x.g);

    const unique = [];
    for (const g of ranked){
      if (!unique.includes(g)) unique.push(g);
      if (unique.length === 2) break;
    }
    return unique;
  }
  function categoryLabel(maxW){
    if (maxW <= 1) return "Licht";
    if (maxW === 2) return "Gemiddeld";
    if (maxW === 3) return "Zwaar";
    return "Extreem zwaar";
  }
  function productByTier(t){
    if (t <= 0) return products.low;
    if (t === 1) return products.mid;
    if (t === 2) return products.upper;
    return products.high;
  }
  function nextTierProduct(p){
    const t = p.tier + 1;
    if (t > 3) return null;
    return productByTier(t);
  }

  /*
    ‚úÖ ADVIES-LOGICA (niet te agressief omhoog)
    - Extreem is NIET automatisch upper; Ignite (mid) is baseline.
    - Alleen opschalen bij hogere FPS en/of graphics-streng.
  */
function requiredTier(games, fps, style){

  const maxW = getMaxWeight(games);
  const extremeCount = countWeight(games, 4);
  const heavyCount = countWeight(games, 3) + extremeCount;

  let req = 0;

  // üîπ 1) Baseline op zwaarte
  if (maxW <= 1) req = 0;                // esports ‚Üí low
  else if (maxW === 2) req = 1;          // gemiddeld ‚Üí Ignite
  else if (maxW === 3) req = 1;          // zwaar ‚Üí Ignite
  else req = 1;                          // extreem ‚Üí Ignite (NIET meteen upper)

  // üîπ 2) FPS invloed
  if (fps >= 100 && maxW >= 2)
    req = Math.max(req, 1);              // 100+ bij gemiddeld+ ‚Üí Ignite minimum

  if (fps >= 144 && maxW >= 2)
    req = Math.max(req, 2);              // 144+ bij gemiddeld+ ‚Üí Upper

  // üîπ 3) Graphics is strenger
  if (style === "graphics"){
    if (fps >= 144 && maxW >= 3)
      req = Math.max(req, 2);            // zwaar + 144 graphics ‚Üí Upper

    // üî• Alleen hier mag 5090 verschijnen
    if (fps >= 144 && extremeCount >= 2)
      req = 3;                           // meerdere extreme games + 144 graphics
  }

  return Math.max(0, Math.min(3, req));
}

  /*
    ‚úÖ SCORE (alleen groen/oranje)
    - Onder 70 tonen we NIET: we upsellen automatisch naar een tier waar het >=70 wordt.
    - Oranje (70‚Äì84) = haalbaar maar niet altijd consistent -> dan tonen we de upsell-knop.
    - Groen (85+) = top match.
  */
  function computeMatchScore(chosen, games, fps, style){
    const req = requiredTier(games, fps, style);
    const diff = chosen.tier - req;

    const maxW = getMaxWeight(games);
    const extremeCount = countWeight(games, 4);
    const heavyCount = countWeight(games, 3) + extremeCount;

    let score;

    // exact match
    if (diff === 0){
      score = 92;

      if (style === "graphics") score -= 3;
      if (fps === 144) score -= 4;
      if (maxW >= 3) score -= 4;
      if (extremeCount >= 1) score -= 4;
      if (heavyCount >= 3) score -= 4;
      if (games.length >= 8) score -= 2; // veel games = meer onzekerheid
    }
    // overkill (nog steeds prima, maar niet automatisch 100)
    else if (diff > 0){
      score = 95 - (diff * 3);
      if (style === "graphics" && fps >= 144) score -= 2;
    }
    // underpowered (zou rood zijn, maar dit pad proberen we te vermijden via auto-upsell)
    else{
      score = 65 + (diff * 18); // diff negatief
      if (fps === 144) score -= 8;
      if (style === "graphics") score -= 6;
      if (maxW >= 3) score -= 8;
      if (extremeCount >= 1) score -= 6;
    }

    score = Math.max(40, Math.min(100, Math.round(score)));
    return score;
  }

  function scoreMeta(score){
    // GEEN rood tonen
    if (score >= 85) return { label:"Top match", color:"#38d39f" };     // groen
    return { label:"Niet altijd consistent", color:"#f7c948" };         // oranje
  }

  function setScoreUI(score){
    const meta = scoreMeta(score);
    scoreText.textContent = `${score}/100`;
    scoreFill.style.width = `${score}%`;
    scoreFill.style.backgroundColor = meta.color;
    scoreLabel.textContent = meta.label;
    scoreFill.setAttribute("aria-valuenow", String(score));
  }

  function chooseProduct(games, fps, style){
    // Start met required tier (juiste advies, niet overkill)
    let product = productByTier(requiredTier(games, fps, style));

    // Zorg: nooit "rood" tonen -> als score < 70, automatisch 1 tier omhoog tot >=70 of max tier
    let score = computeMatchScore(product, games, fps, style);
    while (score < 70 && product.tier < 3){
      product = nextTierProduct(product);
      score = computeMatchScore(product, games, fps, style);
    }
    return product;
  }

  function buildShareUrl(games, fps, style){
    const url = new URL(window.location.href);
    url.searchParams.set("fps", String(fps));
    url.searchParams.set("style", style);
    url.searchParams.set("games", games.map(encodeURIComponent).join(","));
    return url.toString();
  }

  function applyFromUrl(){
    const url = new URL(window.location.href);
    const fps = url.searchParams.get("fps");
    const style = url.searchParams.get("style");
    const games = url.searchParams.get("games");

    if (fps){
      const el = document.querySelector(`input[name="minFps"][value="${fps}"]`);
      if (el) el.checked = true;
    }
    if (style){
      const el = document.querySelector(`input[name="playStyle"][value="${style}"]`);
      if (el) el.checked = true;
    }
    if (games){
      const list = games.split(",").map(decodeURIComponent);
      document.querySelectorAll('#gameList input[type="checkbox"]').forEach(cb => {
        cb.checked = list.includes(cb.value);
      });
    }
  }

  function fadeSwap(updateFn){
    if (resultBox.style.display === "none"){
      updateFn();
      resultBox.classList.remove("is-out");
      resultBox.classList.add("is-in");
      return;
    }
    resultBox.classList.remove("is-in");
    resultBox.classList.add("is-out");

    setTimeout(() => {
      updateFn();
      requestAnimationFrame(() => {
        resultBox.classList.remove("is-out");
        resultBox.classList.add("is-in");
      });
    }, 220);
  }

  function render(product, games, fps, style){
    const maxW = getMaxWeight(games);
    const cat  = categoryLabel(maxW);
    const top2 = getTwoHeaviestGames(games);
    const g1 = top2[0] || "‚Äî";
    const g2 = top2[1] || "‚Äî";

    pcNameEl.textContent  = product.name;
    pcPriceEl.textContent = product.price;
    pcLinkEl.href         = product.link;
    pcLinkEl.textContent  = `Bekijk ${product.name}`;

    const score = computeMatchScore(product, games, fps, style);
    setScoreUI(score);

    // ‚úÖ Upgrade box: ALLEEN oranje (70‚Äì84) + next tier bestaat
    const up = nextTierProduct(product);
    if (score < 85 && up){
      upgradeBox.style.display = "block";
      upgradeText.textContent =
        `Kies ${up.name} als je ${fps}+ FPS stabieler wilt halen (minder afhankelijk van maps/updates/settings).`;
      upgradeBtn.onclick = () => {
        fadeSwap(() => render(up, games, fps, style));
      };
    } else {
      upgradeBox.style.display = "none";
      upgradeBtn.onclick = null;
    }

    whyBullets.innerHTML = "";
    [
      `Zwaarste games in jouw selectie: ‚Äú${g1}‚Äù en ‚Äú${g2}‚Äù.`,
      `Jouw doel: ${fps}+ FPS op 1080p.`,
      `Speelstijl: ${style === "competitive" ? "Competitief (hoge FPS, lagere settings)" : "Mooie graphics (hogere settings)"} ‚Äî categorie: ${cat}.`
    ].forEach(t=>{
      const li=document.createElement("li");
      li.textContent=t;
      whyBullets.appendChild(li);
    });

    // ‚úÖ Oranje uitleg duidelijk (jij wilde: ‚Äúhaalbaar maar niet consistent‚Äù + upsell eerlijk)
    nuanceNote.style.display = "none";
    nuanceNote.textContent = "";
    if (score < 85){
      nuanceNote.textContent =
        "üü° Dit is haalbaar, maar niet altijd consistent (settings/updates/drukke maps kunnen invloed hebben). Voor stabielere FPS is √©√©n tier hoger de veiligere keuze.";
      nuanceNote.style.display = "block";
    }

    pcFpsUl.innerHTML = "";
    product.fps.forEach(line=>{
      const li=document.createElement("li");
      li.textContent=line;
      pcFpsUl.appendChild(li);
    });

    shareUrlEl.value = buildShareUrl(games, fps, style);

    emptyState.style.display="none";
    resultBox.style.display="block";
  }

  function hideResultWithMessage(msg){
    emptyState.innerHTML = msg;
    resultBox.style.display="none";
    emptyState.style.display="block";
  }

  function update(){
    const games = getCheckedGames();
    const fps   = getMinFps();
    const style = getPlayStyle();

    if (games.length === 0) {
      hideResultWithMessage('Selecteer <b>minimaal 2 games</b> en kies je minimale FPS om advies te krijgen.');
      return;
    }
    if (games.length === 1) {
      hideResultWithMessage('Selecteer nog <b>1 extra game</b> (minimaal 2) om een betrouwbaar advies te geven.');
      return;
    }

    const chosen = chooseProduct(games, fps, style);
    fadeSwap(() => render(chosen, games, fps, style));
  }

  copyBtn.addEventListener("click", async () => {
    try{
      await navigator.clipboard.writeText(shareUrlEl.value);
      toast.style.display = "block";
      setTimeout(()=> toast.style.display = "none", 1200);
    }catch(e){
      alert("Kopi√´ren lukt niet. Selecteer de link en kopieer handmatig.");
    }
  });

  document.getElementById("gameList").addEventListener("change", update);
  document.getElementById("fpsPick").addEventListener("change", update);
  document.getElementById("stylePick").addEventListener("change", update);

  applyFromUrl();
  update();

});
</script>
</body>
</html>

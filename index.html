<script>
document.addEventListener("DOMContentLoaded", () => {

  // --- Game weights: moeten exact matchen met checkbox "value" tekst ---
  // 1 = licht, 3 = gemiddeld, 5 = extreem zwaar
  const gameWeights = {
    "Roblox": 1,
    "Minecraft / Terraria": 2,
    "League of Legends / DOTA": 2,
    "Rocket League": 2,

    "Fortnite": 3,
    "Valorant / CS2": 3,
    "GTA V / FiveM (Roleplay)": 3,
    "Apex Legends": 3,

    "Call of Duty / Warzone": 4,
    "Red Dead Redemption 2": 4,
    "Hogwarts Legacy": 5,
    "Cyberpunk 2077": 5
  };

  // ==========================================================
  // âœ… PRODUCTEN (3 PCâ€™s) â€” game-gedreven, altijd 1080p
  // Later hoef je vooral link/prijs aan te passen.
  // ==========================================================
  const products = {
    ignite: {
      name: "ðŸ”¥The IgniteðŸ”¥",
      price: "â‚¬650,-", // <-- PAS AAN
      link: "https://replay-pc.eu/goedkope-gaming-pc-rtx-3060-ti", // <-- PAS AAN
      fps1080p: [
        "Roblox / Minecraft: 200+ FPS",
        "League of Legends / Rocket League: 180+ FPS",
        "Fortnite (Performance Mode): 160â€“240 FPS",
        "Fortnite (High Settings): 120â€“160 FPS",
        "GTA V (High): 120â€“140 FPS",
        "Apex Legends: 110â€“140 FPS",
        "Call of Duty / Warzone: 95â€“115 FPS",
        "Red Dead Redemption 2 (High): 80â€“100 FPS",
        "Hogwarts Legacy (High): 75â€“95 FPS",
        "Cyberpunk 2077 (High, zonder ray tracing): 70â€“90 FPS"
      ]
    },

    medium: {
      name: "âš¡The Mediumâš¡",
      price: "â‚¬â€”", // <-- VUL LATER IN
      link: "https://replay-pc.eu/PLAK-HIER-LINK", // <-- VUL LATER IN
      fps1080p: [
        "Roblox / Minecraft: 200+ FPS",
        "League of Legends / Rocket League: 200+ FPS",
        "Fortnite (Performance Mode): 200+ FPS",
        "Fortnite (High Settings): 140â€“180 FPS",
        "GTA V (High): 140â€“170 FPS",
        "Apex Legends: 130â€“170 FPS",
        "Call of Duty / Warzone: 110â€“140 FPS",
        "Red Dead Redemption 2 (High): 95â€“120 FPS",
        "Hogwarts Legacy (High): 85â€“110 FPS",
        "Cyberpunk 2077 (High, zonder ray tracing): 80â€“105 FPS"
      ]
    },

    highend: {
      name: "ðŸ‘‘High-EndðŸ‘‘",
      price: "â‚¬â€”", // <-- VUL LATER IN
      link: "https://replay-pc.eu/PLAK-HIER-LINK", // <-- VUL LATER IN
      fps1080p: [
        "Roblox / Minecraft: 240+ FPS",
        "League of Legends / Rocket League: 240+ FPS",
        "Fortnite (Performance Mode): 240+ FPS",
        "Fortnite (High Settings): 170â€“220 FPS",
        "GTA V (High): 170â€“220 FPS",
        "Apex Legends: 160â€“220 FPS",
        "Call of Duty / Warzone: 140â€“190 FPS",
        "Red Dead Redemption 2 (High): 120â€“160 FPS",
        "Hogwarts Legacy (High): 110â€“150 FPS",
        "Cyberpunk 2077 (High, zonder ray tracing): 105â€“150 FPS"
      ]
    }
  };

  // --- Helpers ---
  function getCheckedGames() {
    return Array.from(document.querySelectorAll('#gameList input[type="checkbox"]'))
      .filter(i => i.checked)
      .map(i => i.value);
  }

  function getMaxWeight(games){
    let max = 0;
    for (const g of games){
      max = Math.max(max, gameWeights[g] || 0);
    }
    return max;
  }

  // ==========================================================
  // âœ… LOGICA (ALLEEN GAME-GEDREVEN, 1080p)
  // - maxWeight 1â€“2  => Ignite
  // - maxWeight 3â€“4  => Medium
  // - maxWeight 5    => High-End
  //
  // (Dus: â€œlichte games vooralâ€ -> Ignite,
  //       â€œmix middelmatigâ€ -> Medium,
  //       â€œheel zwaarâ€ -> High-End)
  // ==========================================================
  function chooseProduct(selectedGames){
    const maxWeight = getMaxWeight(selectedGames);

    if (maxWeight <= 2) return products.ignite;
    if (maxWeight <= 4) return products.medium;
    return products.highend; // maxWeight 5
  }

  function renderProduct(product){
    // Naam / prijs / link
    document.getElementById("pcName").textContent = product.name;
    document.getElementById("pcPrice").textContent = product.price;

    const pcLink = document.getElementById("pcLink");
    pcLink.href = product.link;
    pcLink.textContent = `Bekijk ${product.name}`;

    // FPS lijst
    const fpsUl = document.getElementById("pcFps");
    fpsUl.innerHTML = "";
    product.fps1080p.forEach(line => {
      const li = document.createElement("li");
      li.textContent = line;
      fpsUl.appendChild(li);
    });

    // Show/Hide
    document.getElementById("emptyState").style.display = "none";
    document.getElementById("result").style.display = "block";
  }

  // --- Events ---
  const calcBtn = document.getElementById("calcBtn");
  const resetBtn = document.getElementById("resetBtn");

  calcBtn.addEventListener("click", () => {
    const games = getCheckedGames();

    if (games.length === 0) {
      alert("Selecteer minimaal 1 game om een advies te krijgen.");
      return;
    }

    const product = chooseProduct(games);
    renderProduct(product);
  });

  resetBtn.addEventListener("click", () => {
    document.querySelectorAll('#gameList input[type="checkbox"]').forEach(i => i.checked = false);
    document.getElementById("result").style.display = "none";
    document.getElementById("emptyState").style.display = "block";
  });

  // ==========================================================
  // ðŸ”¥ Later een 4e PC toevoegen:
  // 1) Voeg in products een nieuw blok toe, bijv. products.ultra = { ... }
  // 2) Pas chooseProduct() aan (extra if-regel op maxWeight)
  // ==========================================================

});
</script>
